


loop:
    si se movio mas de media baldosa en 1 timestep:
		cambiar estado a "teleported"
	
	si el color de la baldosa es trampa:
		cambiar estado a "trap"
	

	estado "start":
		sequencia:
			* desactivar Mapeo
			* calibrar rotacion
			* calibrar offsets de la grilla con respecto al mapa
			* activar Mapeo
			* girar 360 grados
			* calcular camino
			* cambiar estado a "main"

	estado "main":
		sequencia:
			* sigo camino calculado
			* calculo camino
			* vuelvo al principio
		
		si estoy en la casilla de inicio y la flag r.ending es True:
			cambiar estado a "exit"
		
		si hay victimas visuales en rango para registrar y no estoy en una casilla de victima ya documentada:
			cambiar estado a "visualVictim"
		
		si detecta calor cerca:
			cambiar estado a "heatVictim"
		
		si no se esta moviendo de una casilla a otra y esta en una casilla de victima no recolectada:
			cambiar estado a "analyze"

		si pasa mas de 6 segundos sin moverse:
			cambiar estado a "stopped moving"
	
